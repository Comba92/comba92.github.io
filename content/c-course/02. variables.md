+++
date = '2025-04-23T11:29:44+02:00'
draft = false
linkTitle = ''
title = 'ClangCourseVariables'
summary = ''
author = 'Comba92'
tags = []
keywords = []
+++
https://en.wikipedia.org/wiki/Variable_(computer_science)
https://en.wikipedia.org/wiki/Name_binding
https://en.wikipedia.org/wiki/Uninitialized_variable
https://en.wikipedia.org/wiki/Initialization_(programming)

https://en.wikipedia.org/wiki/Static_variable
https://en.wikipedia.org/wiki/Automatic_variable
https://en.wikipedia.org/wiki/Constant_(computer_programming)
https://en.wikipedia.org/wiki/Const_(computer_programming)
https://en.wikipedia.org/wiki/Assignment_(computer_science)

https://en.wikipedia.org/wiki/Declaration_(computer_programming)

https://en.wikipedia.org/wiki/Printf
https://en.wikipedia.org/wiki/Variadic_function

https://eloquentjavascript.net/02_program_structure.html


## Variabili e valori numerici (numeric literals)
Le **variabili** sono il primo concetto fondamentale di tutti i linguaggi di programmazione. Possiamo pensarle come dei 'contenitori', con un nome, un tipo, e un valore assegnatoli del corrispettivo tipo.
Per ora, supponiamo esista un solo ed unico tipo, il tipo numerico intero. Questo tipo può rappresentare qualsiasi numero intero, per intenderci, sia positivi che negativi.
Il tipo intero è indicato dalla keyword `int` (integer, o numero intero).
Le **keyword** (parole chiave) sono parole riservate che hanno un speifico significato e non possono essere usate per altri scopi. C ne ha una ventina, e di lezione in lezione le esploreremo tutte.
Ora, creiamo una variabile, è facile.
Bisgona prima indicare il suo tipo, poi il suo nome, e un eventuale valore (o espressione). Ecco come si fa in C:
```c
int numero = 10;
```
Abbiamo creato una variabile di tipo intero, chiamata 'numero', e ci ho assegnato il valore 10.
Il nome di una variabile spesso è anche tecnicamente chiamato **identifier** (identificatore).
Il simbolo `=` indica un assegnamento. Attenzione che non è esattamente come l'uguale al quale sei abituato in matematica.
Il valore 10 invece, è chiamato **literal** (valore letterale). Possiamo usare i literal numerici per esempio negli assegnamenti e nelle espressioni. 
Il punto e virgola `;` è semplicemente un simbolo di terminazione del comando. Ogni comando in C deve finire con `;`.

Una parte di codice terminata da `;` si chiama **statement** (istruzione, in italiano).
Uno statement è composto da più **token** (simbolo, in italiano).
I token sono sequenze di caratteri che hanno un significato proprio nel linguaggio. Sono la controparte delle parole nel nostro linguaggio naturale.
In questo statement, i token sono: `int`, `numero`, `=`, `10`, `;`.

Una volta creata una variabile, possiamo riutilizzarla, assegnandoci altri valori.
```c
int una_variabile = 10;
una_variabile = -5;
```
Creiamo prima una variabile chiamata 'una_variabile', assegnandogli 10. Subito dopo, ci assegniamo il valore 5. Il valore 10 di 'una_variabile' è andato perso, sovrascritto dal valore 5.
Quindi, a riga 1, 'una_variabile' conteneva 10, mentre a riga 2 e successive, conterrà -5.
Nota che non dobbiamo piú indicare 'int' prima del nome, dato che il tipo serve solamente quando creiamo per la prima volta una variabile.
Questa 'creazione', con assegnamento di un valore iniziale, si chiama **definizione**.

```c
int numero1 = 5;
int numero2 = -6;
numero1 = numero2;
```
Creiamo due variabili, assegnandogli dei valori.Poi, assegniamo il valore contenuto in 'numero2', a 'numero1'. Alla fine, 'numero1' contiene il valore 6.
'numero2' rimane invariato, quindi contiene ancora -6.

Nota inoltre la *direzione* dell'assegnamento: *il valore di destra viene assegnato all'identificatore di sinistra*.
Il contrario non può mai succedere.
Se ti può aiutare, sappi che certi linguaggi usano questa notazione per l'assegnamento:
```c
numero <- 5;
```

Questo esempio risulta in un errore di sintassi:
```c
int numero = 10;
5 = numero
```
Stiamo assegnando il valore contenuto in una variabile chiamata 'numero', al literal 5. Ma questo non ha senso: il valore 5 non è un identifier (non è una variabile che abbiamo definito!). Tornando all'esempio delle scatole: numero è una scatola che contiene l'oggetto '10', mentre '5' è solamente un oggetto. Non è una scatola! E quindi non può contenere nulla.

## Operatori aritmetici
Con le variabili di tipo intero, è possibile eseguire espressioni numeriche. Possiamo usare le operazioni elementari, `+`, `-`, `*` (moltiplicazione), `/` (divisione). 
Gli **operatori** hanno una certa `precedenza`. Significa che c'è un ordine con il quale le espressioni vengono valutate. Moltiplicazioni e divisioni vengono valutate sempre prima delle addizioni e sottrazioni (un po' come nella vera matematica), e le espressioni sono valutate da sinistra verso destra.
Si possono usare le parentesi tonde `(` e `)` per esplicitare la precedenza.
```c
scrivere
43 + 12 * 45 / 432 - 214 * 41
è uguale a scrivere
43 + ((12 * 45) / 432) - (214 * 41)
```
Possiamo ora usare C come una calcolatrice (w-wow...)!!

```c
int numero = 10;
int somma = 10 + 2;
int prodotto = somma * numero;
int divisione = prodotto / 2;
```
Riesci a dirmi il contenuto di ogni variabile alla fine del programma?

Seguire a mente il flusso del programma è importante ed essenziale.
Un programma senza alcun output, però, sono programmi inutili.
L'unica cosa che siamo riusciti a mostrare a schermo fino ad ora è stato l'Hello World.
Ma i risultati delle nostre espressioni?
Questi vengono eseguiti, e il programma termina senza mostrare alcun risultato.
Dobbiamo ora capire come usare printf per stampare dei numeri.

Esiste anche l'operatore `%`, per ottenere il resto di una divisione. Per chi si diletta in matematica, è chiamato 'modulo', è l'operatore dell'[aritmetica modulare](https://en.wikipedia.org/wiki/Modular_arithmetic) (esempio: 5 % 2 = 1, perché 5 / 2 da 1 come resto).
Più avanti vedremo come può essere molto utile.


TODO: talk about comments
## La funzione printf()
Printf non solo può mostrare stringhe su schermo, ma anche valori numerici.
```c
int numero1 = 69;
int numero2 = 420;
printf("La variabile 'numero1' contiene %d, mentre 'numero2' contiene %d\n", numero1, numero2);
```
Copialo nel tuo programma ed eseguilo. Cosa vedi??
Gli elementi tra parentesi separati da virgola `,` si chiamano argomenti. Printf (e tutte le funzioni in generale) si aspetta degli argomenti specifici.
Il primo è sempre una stringa (sequenza di lettere racchiuse in doppi apici `"`, per intenderci).
Se nella stringa sono presenti dei `%d`, printf li sostituirà con gli argomenti forniti. Ogni `%d` è collegato al relativo argomento in base all'ordine in cui appaiono. In questo caso, il primo %d verrà sostituito dal valore contenuto in numero1, e il secondo %d verrà sostituito dal numero2.
Su schermo vedremo effetivamente: `La variabile 'numero1' contiene 69, mentre 'numero2' contiene 420`
(ti ricordo inoltre che `\n` è semplicemente l'escape di nuova linea, il fatto che sia attaccato a '%d\n' non causa nulla di particolare).

Sembra tutto magico, vero?
Per ora, dovremmo accontentarci di un po' di ignoranza. Non abbiamo ancora le conoscenze necessarie per capire printf, e abbiamo bisogno di usarlo per mostrare degli output. Vedremo come funziona printf più avanti. Concentriamoci solamente a capire come usarlo.
Sappi inoltre che printf ammette altri tipi di 'formatter'. `%d` è il formatter per i numeri interi (che sono gli unici tipi che conosciamo per ora).

Ora possiamo finalmente vedere i risultati dell'esempio precedente:
```c
int numero = 10;
int somma = 10 + 3;
int prodotto = somma * numero;
int divisione = prodotto / 7;
printf("Numero = %d\n", numero);
printf("Somma = %d\n", somma);
printf("Prodotto = %d\nDivisione = %d\nUn numero simpatico = %d", prodotto, divisione, 69);
```
L'utilizzo di printf non solo è utile per visualizzare i risultati dei nostri programmi (che sarebbero programmi inutili senza), ma è anche utile nel processo di [debugging](https://en.wikipedia.org/wiki/Debugging). Con debugging si intende il processo di comprensione e correzione del codice. Vorrai spesso controllare i valori all'interno delle tue variabili, per assicurarti che tutto funzioni come hai immaginato.
Printf è un arma potente che abuseremo costantemente, specialmente durante l'apprendimento. Non avere mai e poi mai paura di usare il printf, e usalo spesso e di fronte ad ogni dubbio, per vedere su schermo il contenuto delle variabili. Ricorda che la curiosità è il tuo più grande metodo per imparare.
**Sii sempre curioso, e spamma printf ovunque per scoprire cosa sta succedendo tra un istruzione e l'altra**.

Questo ultimo esempio esegue una divisione. Il risultato ti sembra corretto?
Dove sono i decimali?
Stiamo usando numeri interi. Il concetto di decimale non esiste; la divisione ha troncato il risultato al numero intero!


## Commenti
Spesso vorremo annotare dei commenti direttamente nel codice. Anche questa è un'altra abilità importante che devi rendere un'abitudine.
Possiamo scrivere un commenti singola linea con `//`
```c
// Questa variabile contiene più di 8000 accipicchia!
int wow = 9000;
```
E possiamo scrivere commenti multilinea rachiudendoli in `/*` e `*/`
```c
/*
Più di
ottomila
A C C I P I C C H I A!!!
*/
int wow = 9000;
```

C-bullshit: non si possono annidare commenti multilinea.
Questo commento non è racchiuso correttamente e causerà un errore di sintassi:
```c
/*
  Posso racchiudere un commento multilinea in altro commento?
  /*
  La risposta è no!!! ....piango
  */
*/
```
Grazie C!

## Dichiarazione e definizione
Introduciamo la differenza tra **dichiarazione** e **definizione**.
Scrivere questo è legale:
```c
int numero;
```
Creiamo una variabile, senza assegnarci nulla.
Quando introduciamo un identificatore in questo modo, lo stiamo *dichiarando*.
Il programma a questo punto è a conoscenza dell'esistenza della variabile 'numero'. La variabile però non è inizializzata, non ci è stato ancora assegnato nulla.

Ma, che numero contiene questo intero??
Una domanda ancora difficile da rispondere. Ma se vuoi uno spoiler: conterrà un valore casuale, spazzatura. Questo è il nostro primo incontro con l'[**undefined behavior**](https://en.wikipedia.org/wiki/Undefined_behavior) (comportamento non definito, o abbreviato UB). Avremo occasione di incontrarlo e spiegarlo meglio più avanti.

```c
int numero = 0;
```
Oltre che a creare una variabile, assegniamo anche un valore iniziale.
Quando introduciamo un identificatore insieme ad una inizializzazione, lo stiamo *definendo*.
Per ora, la dichiarazione sembra non avere molto senso, ma lo avrà piú avanti, soprattutto quando studieremo le funzioni. Per ora, inizializza sempre le variabili.
Linguaggi piú moderni spesso obbligano sempre l'inizializzazione delle variabili.

## Espressioni e statements
Importante distinguere fin da subito la differenza tra espressione e statement.

Un'*espressione* è un'istruzione che viene valutata ad un determinato valore.
Il termine 'valutare' è la mia italianizzazione del termine 'to evaluate'.
I calcoli con gli operatori che abbiamo visto fin'ora sono tutte espressioni, dato che valutano un nuovo valore.
L'accesso ad una variabile risulta in un'espressione, dato che viene valutata al valore contenuto dalla variabile.
Un literal è di per sé un'espressione.
Le espressioni però da sole non sono utili, e sono contenute in degli statement.

Gli *statements*, sono istruzioni che non risultano in alcun valore valutato. Esprimono delle istruzioni o comandi che vengono eseguiti nel linguaggio.
Gli statement possono contenere più espressioni.
Gli statement in C sono di solito terminati dal punto e virgola `;`.
L'assegnamento è uno statement, dato che esegue un'azione che non viene valutata ad alcun valore. Gli assegnamenti possono però avere espressioni nella parte destra (o sinistra).
Verrebbe naturale dire che la chiamata del printf() è uno statement, ma dovremmo studiare le funzioni prima di poterlo dire con certezza. Per ora rimarrà un dubbio.

```c
1 + 1; // due literals sommati sono un'espressione, valutata a 2. lo statement è solo un'espressione!
int risultato1 = 5 + 1; // la parte a destra dell'uguale è un'espressione valutata a 6. lo statement è un assegnamento.
int risultato2 = risultato1 + 10; // risultato1 è valutato a 6, sommato a 10, 16 (espressione). c'è poi un assegnamento a risultato2 (statement)
printf("%d, %d\n", risultato1, risultato2, 69 + 420); // gli argomenti del printf sono espressioni! ma la chiamata di printf è uno statement o espressione...?
```

C-bullshit: in realtà ho mentito: in C, l'assegnamento è un'espressione, che viene valutata al valore assegnato. Questo non succede di norma nei linguaggi moderni. Non è buona pratica pensare all'assegnamento come espressione, quindi continuerò a trattarlo come uno statement.


## Nominare una variabile
Se hai giocato un po' a dichiarare variabili, avrai notato che non tutti i nomi sono validi.
Ci sono delle semplici regole di nominazione degli identifier. Queste regole valgono per quasi tutti i linguaggi di programmazione, quindi è utile saperle.
Un identifier può contenere lettere e numeri, ma non punteggiatura (quindi no spazi, e no simboli come `'` `"` `$` `!` e cosi via). L'unica punteggiatura ammessa è l'underscore `_`.
Un identifier non può iniziare con un numero (verrebbe altrimenti confuso con un literal numerico!). Lo spazio termina l'identifier (infatti l'underscore torna utile per simulare uno spazio).
Maiuscole e minuscole sono considerate lettere distinte.
Di norma non possono esistere due identifier con lo stesso nome.

Non sono validi identificativi uguali a parole chiavi del C, come  'int', 'if' o 'for'. Variabili con questi nomi sono errori di sintassi.

Esistono poi "best practices", riguardo la nominazione di variabili. Non scegliere nomi come 'pippo' o 'paperino' (sto guardando te, programmatore boomer medio)!!.
Cerca di evitare anche nomi come 'x1', 'y2', 'n', o semplificazioni del genere. I nomi dovrebbero sempre essere descrittivi, e non troppo lunghi.
Il codice non dovrebbe essere criptico ma spiegarsi da solo!

## Esercizi
In questa lezione concentrati a capire tutti i concetti visti. Gioca con il programma, creando delle variabili, eseguendo espressioni, e mostrale su schermo.